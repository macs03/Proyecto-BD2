-- Generated by Oracle SQL Developer Data Modeler 3.0.0.665
--   at:        2013-03-14 23:43:57 VET
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g



CREATE TABLE ADMINIS 
    ( 
     NAC VARCHAR2 (5) , 
     CED VARCHAR2 (10)  NOT NULL , 
     INFA_CTR_ID_CENTRO VARCHAR2 (25) , 
     INFA_CTR_ANO_FISCAL VARCHAR2 (25) , 
     INFA_PERN_TIPN_CODIGO VARCHAR2 (25) 
    ) 
;



ALTER TABLE ADMINIS 
    ADD CONSTRAINT "ADMINIS PK" PRIMARY KEY ( CED ) ;


CREATE TABLE ASIG_PERSONAL 
    ( 
     FMO_CODIGO INTEGER  NOT NULL , 
     SVO_CODIGO INTEGER  NOT NULL , 
     INFA_NACIONALIDAD VARCHAR2 (5) , 
     INFA_CEDULA VARCHAR2 (25)  NOT NULL , 
     INFA_PERN_TIPN_CODIGO VARCHAR2 (25) , 
     APL_PERSONALSUGERIDO INTEGER , 
     APL_PERSONALUSADO INTEGER , 
     TSO_CODIGO INTEGER  NOT NULL , 
     OPA_CODIGO VARCHAR2 (10)  NOT NULL , 
     CEDULA VARCHAR2 (20)  NOT NULL 
    ) 
;



ALTER TABLE ASIG_PERSONAL 
    ADD CONSTRAINT PK_ASIG_PERSONAL PRIMARY KEY ( CEDULA ) ;


CREATE TABLE ASIG_TAREAS 
    ( 
     ATA_CANTIDAD INTEGER , 
     SVO_CODIGO INTEGER  NOT NULL , 
     FMO_CODIGO INTEGER  NOT NULL , 
     MTL_CODIGO INTEGER  NOT NULL , 
     TML_CODIGO1 VARCHAR2 (5)  NOT NULL , 
     TSO_CODIGO INTEGER  NOT NULL , 
     OPA_CODIGO VARCHAR2 (10)  NOT NULL 
    ) 
;



ALTER TABLE ASIG_TAREAS 
    ADD CONSTRAINT PK_ASIG_TAREAS PRIMARY KEY ( SVO_CODIGO, TSO_CODIGO, OPA_CODIGO, FMO_CODIGO, MTL_CODIGO, TML_CODIGO1 ) ;


CREATE TABLE EDIFICIO 
    ( 
     EDO_CODIGO INTEGER  NOT NULL , 
     EDO_NOMBRE VARCHAR2 (5) 
    ) 
;



ALTER TABLE EDIFICIO 
    ADD CONSTRAINT "EDIFICIO PK" PRIMARY KEY ( EDO_CODIGO ) ;


CREATE TABLE ITEM 
    ( 
     FMO_CODIGO INTEGER  NOT NULL , 
     SVO_CODIGO INTEGER  NOT NULL , 
     ITM_OBSERVACION VARCHAR2 (25) , 
     TSO_CODIGO INTEGER  NOT NULL , 
     OPA_CODIGO VARCHAR2 (10)  NOT NULL 
    ) 
;



ALTER TABLE ITEM 
    ADD CONSTRAINT PK_ITEM PRIMARY KEY ( FMO_CODIGO, SVO_CODIGO, TSO_CODIGO, OPA_CODIGO ) ;


CREATE TABLE ITEMS_HISTORICOS 
    ( 
     HIS_FECHA_INICIO DATE , 
     HIS_OBSERVACION VARCHAR2 (50) , 
     HIS_FECHA_FIN DATE , 
     FMO_CODIGO INTEGER  NOT NULL , 
     SVO_CODIGO INTEGER  NOT NULL , 
     TSO_CODIGO INTEGER  NOT NULL , 
     OPA_CODIGO VARCHAR2 (10)  NOT NULL , 
     ETU_CODIGO VARCHAR2 (5)  NOT NULL 
    ) 
;



ALTER TABLE ITEMS_HISTORICOS 
    ADD CONSTRAINT "ITEMS_HISTORICOS PK" PRIMARY KEY ( FMO_CODIGO, SVO_CODIGO, TSO_CODIGO, OPA_CODIGO, ETU_CODIGO ) ;


CREATE TABLE JEFE 
    ( 
     CARGO INTEGER , 
     JEF_CTR_ANO_FISCAL INTEGER , 
     JEF_CTR_ID_CENTRO INTEGER , 
     JEF_FECHA_FIN DATE , 
     JEF_FECHA_INI DATE , 
     JEF_INFA_CTR_ANO_FISCAL INTEGER , 
     JEF_INFA_CTR_ID_CENTRO INTEGER , 
     NAC VARCHAR2 (5) , 
     CED VARCHAR2 (25)  NOT NULL 
    ) 
;



ALTER TABLE JEFE 
    ADD CONSTRAINT "JEFE PK" PRIMARY KEY ( CED ) ;


CREATE TABLE PERSONAS 
    ( 
     NACIONALIDAD VARCHAR2 (4) , 
     CEDULA VARCHAR2 (20)  NOT NULL , 
     SEXO VARCHAR2 (5) , 
     NOMBRE VARCHAR2 (25) , 
     APELLIDO VARCHAR2 (25) , 
     CED VARCHAR2 (25) , 
     CED1 VARCHAR2 (10) 
    ) 
;



ALTER TABLE PERSONAS 
    ADD CONSTRAINT "PERSONAS PK" PRIMARY KEY ( CEDULA ) ;


CREATE TABLE SDS_ESTATUS_ETU 
    ( 
     ETU_CODIGO VARCHAR2 (5)  NOT NULL , 
     ETU_NOMBRE VARCHAR2 (10) , 
     ETU_DESCRIPCION VARCHAR2 (50) 
    ) 
;



ALTER TABLE SDS_ESTATUS_ETU 
    ADD CONSTRAINT "SDS_ESTATUS_ETU PK" PRIMARY KEY ( ETU_CODIGO ) ;


CREATE TABLE SDS_FORMATOS_FMO 
    ( 
     FMO_CODIGO INTEGER  NOT NULL , 
     JEF_INFA_PERN_TIPN_CODIGO VARCHAR2 (5) , 
     JEF_INFA_NACIONALIDAD VARCHAR2 (5) , 
     JEF_INFA_CEDULA VARCHAR2 (10) , 
     JEF_INFA_CTR_ID_CENTRO VARCHAR2 (10) , 
     JEF_INFA_CTR_ANO_FISCAL VARCHAR2 (5) , 
     "FMO_FECHA" DATE "DD/MM/RR" DATE , 
     "JEF_FECHA_INI" DATE "DD/MM/RR" DATE , 
     CTR_ANO_FISCAL VARCHAR2 (4) , 
     CTR_ID_CENTRO VARCHAR2 (20) 
    ) 
;



ALTER TABLE SDS_FORMATOS_FMO 
    ADD CONSTRAINT "SDS_FORMATOS_FMO PK" PRIMARY KEY ( FMO_CODIGO ) ;


CREATE TABLE SDS_LOCALIDADES_LCP 
    ( 
     LCD_CODIGO INTEGER  NOT NULL , 
     CTR_ANO_FISCAL VARCHAR2 (4)  NOT NULL , 
     CTR_ID_CENTRO VARCHAR2 (20)  NOT NULL , 
     PSO_CODIGO VARCHAR2 (5)  NOT NULL , 
     EDO_CODIGO INTEGER  NOT NULL , 
     LCD_NOMBRE VARCHAR2 (50) 
    ) 
;



ALTER TABLE SDS_LOCALIDADES_LCP 
    ADD CONSTRAINT "SDS_LOCALIDADES_LCP PK" PRIMARY KEY ( LCD_CODIGO, CTR_ANO_FISCAL, CTR_ID_CENTRO, PSO_CODIGO, EDO_CODIGO ) ;


CREATE TABLE SDS_MATERIALES_MTL 
    ( 
     MTL_CODIGO INTEGER  NOT NULL , 
     TML_CODIGO INTEGER , 
     MTL_NOMBRE VARCHAR2 (30) , 
     MTL_CANTIDAD INTEGER , 
     TML_CODIGO1 VARCHAR2 (5)  NOT NULL 
    ) 
;



ALTER TABLE SDS_MATERIALES_MTL 
    ADD CONSTRAINT "SDS_MATERIALES_MTL PK" PRIMARY KEY ( MTL_CODIGO, TML_CODIGO1 ) ;


CREATE TABLE SDS_ORDEN_PRORIDAD_OPA 
    ( 
     OPA_CODIGO VARCHAR2 (10)  NOT NULL , 
     OPA_NOMBRE VARCHAR2 (5) 
    ) 
;



ALTER TABLE SDS_ORDEN_PRORIDAD_OPA 
    ADD CONSTRAINT "SDS_ORDEN_PRORIDAD_OPA PK" PRIMARY KEY ( OPA_CODIGO ) ;


CREATE TABLE SDS_PISOS_PSO 
    ( 
     PSO_CODIGO VARCHAR2 (5)  NOT NULL , 
     PSO_NOMBRE VARCHAR2 (25) 
    ) 
;



ALTER TABLE SDS_PISOS_PSO 
    ADD CONSTRAINT "SDS_PISOS_PSO PK" PRIMARY KEY ( PSO_CODIGO ) ;


CREATE TABLE SDS_TIPO_MATERIALES_TML 
    ( 
     TML_CODIGO VARCHAR2 (5)  NOT NULL , 
     TML_NOMBRE VARCHAR2 (10) , 
     TML_DESCRIPCION VARCHAR2 (50) 
    ) 
;



ALTER TABLE SDS_TIPO_MATERIALES_TML 
    ADD CONSTRAINT "SDS_TIPO_MATERIALES_TML PK" PRIMARY KEY ( TML_CODIGO ) ;


CREATE TABLE SDS_TIPO_SERVICIOS_TSO 
    ( 
     TSO_CODIGO INTEGER  NOT NULL , 
     OPA_CODIGO VARCHAR2 (10)  NOT NULL , 
     TSO_NOMBRE VARCHAR2 (50) , 
     TSO_DESCRIPCION VARCHAR2 (200) 
    ) 
;



ALTER TABLE SDS_TIPO_SERVICIOS_TSO 
    ADD CONSTRAINT "SDS_TIPO_SERVICIOS_TSO PK" PRIMARY KEY ( TSO_CODIGO, OPA_CODIGO ) ;


CREATE TABLE SERVICIO 
    ( 
     SVO_CODIGO INTEGER  NOT NULL , 
     TSO_CODIGO INTEGER  NOT NULL , 
     SVO_NOMBRE VARCHAR2 (25) , 
     SVO_DESCRIPCION VARCHAR2 (50) , 
     OPA_CODIGO VARCHAR2 (10)  NOT NULL 
    ) 
;



ALTER TABLE SERVICIO 
    ADD CONSTRAINT "SERVICIO PK" PRIMARY KEY ( SVO_CODIGO, TSO_CODIGO, OPA_CODIGO ) ;


CREATE TABLE SIF_CENTRO_COSTOS 
    ( 
     CTR_ANO_FISCAL VARCHAR2 (4)  NOT NULL , 
     CTR_ID_CENTRO VARCHAR2 (20)  NOT NULL , 
     CTR_DESCRIPCION VARCHAR2 (100) , 
     CTR_SUB_CODIGO VARCHAR2 (8) , 
     CTR_UBICACION VARCHAR2 (50) , 
     CTR_TELEFONO1 VARCHAR2 (12) , 
     CTR_TELEFONO2 VARCHAR2 (12) , 
     CTR_CORREO_ELECT VARCHAR2 (50) , 
     CTR_CREADO_POR VARCHAR2 (30) , 
     CTR_MODIFICADO_POR VARCHAR2 (30) , 
     CTR_FECHA_UPDATE DATE 
    ) 
;



ALTER TABLE SIF_CENTRO_COSTOS 
    ADD CONSTRAINT "SIF_CENTRO_COSTOS PK" PRIMARY KEY ( CTR_ANO_FISCAL, CTR_ID_CENTRO ) ;



ALTER TABLE SDS_FORMATOS_FMO 
    ADD CONSTRAINT Relation_17 FOREIGN KEY 
    ( 
     CTR_ANO_FISCAL,
     CTR_ID_CENTRO
    ) 
    REFERENCES SIF_CENTRO_COSTOS 
    ( 
     CTR_ANO_FISCAL,
     CTR_ID_CENTRO
    ) 
    ON DELETE SET NULL 
;


ALTER TABLE SDS_MATERIALES_MTL 
    ADD CONSTRAINT Relation_39 FOREIGN KEY 
    ( 
     TML_CODIGO1
    ) 
    REFERENCES SDS_TIPO_MATERIALES_TML 
    ( 
     TML_CODIGO
    ) 
;


ALTER TABLE ASIG_PERSONAL 
    ADD CONSTRAINT Relation_41 FOREIGN KEY 
    ( 
     FMO_CODIGO
    ) 
    REFERENCES SDS_FORMATOS_FMO 
    ( 
     FMO_CODIGO
    ) 
;


ALTER TABLE ASIG_PERSONAL 
    ADD CONSTRAINT Relation_42 FOREIGN KEY 
    ( 
     SVO_CODIGO,
     TSO_CODIGO,
     OPA_CODIGO
    ) 
    REFERENCES SERVICIO 
    ( 
     SVO_CODIGO,
     TSO_CODIGO,
     OPA_CODIGO
    ) 
;


ALTER TABLE ITEM 
    ADD CONSTRAINT Relation_44 FOREIGN KEY 
    ( 
     FMO_CODIGO
    ) 
    REFERENCES SDS_FORMATOS_FMO 
    ( 
     FMO_CODIGO
    ) 
;


ALTER TABLE ITEM 
    ADD CONSTRAINT Relation_45 FOREIGN KEY 
    ( 
     SVO_CODIGO,
     TSO_CODIGO,
     OPA_CODIGO
    ) 
    REFERENCES SERVICIO 
    ( 
     SVO_CODIGO,
     TSO_CODIGO,
     OPA_CODIGO
    ) 
;


ALTER TABLE SDS_LOCALIDADES_LCP 
    ADD CONSTRAINT Relation_47 FOREIGN KEY 
    ( 
     CTR_ANO_FISCAL,
     CTR_ID_CENTRO
    ) 
    REFERENCES SIF_CENTRO_COSTOS 
    ( 
     CTR_ANO_FISCAL,
     CTR_ID_CENTRO
    ) 
;


ALTER TABLE SDS_LOCALIDADES_LCP 
    ADD CONSTRAINT Relation_48 FOREIGN KEY 
    ( 
     PSO_CODIGO
    ) 
    REFERENCES SDS_PISOS_PSO 
    ( 
     PSO_CODIGO
    ) 
;


ALTER TABLE SDS_LOCALIDADES_LCP 
    ADD CONSTRAINT Relation_49 FOREIGN KEY 
    ( 
     EDO_CODIGO
    ) 
    REFERENCES EDIFICIO 
    ( 
     EDO_CODIGO
    ) 
;


ALTER TABLE SDS_TIPO_SERVICIOS_TSO 
    ADD CONSTRAINT Relation_52 FOREIGN KEY 
    ( 
     OPA_CODIGO
    ) 
    REFERENCES SDS_ORDEN_PRORIDAD_OPA 
    ( 
     OPA_CODIGO
    ) 
;


ALTER TABLE ASIG_TAREAS 
    ADD CONSTRAINT Relation_54 FOREIGN KEY 
    ( 
     SVO_CODIGO,
     TSO_CODIGO,
     OPA_CODIGO
    ) 
    REFERENCES SERVICIO 
    ( 
     SVO_CODIGO,
     TSO_CODIGO,
     OPA_CODIGO
    ) 
;


ALTER TABLE ASIG_TAREAS 
    ADD CONSTRAINT Relation_55 FOREIGN KEY 
    ( 
     FMO_CODIGO
    ) 
    REFERENCES SDS_FORMATOS_FMO 
    ( 
     FMO_CODIGO
    ) 
;


ALTER TABLE ASIG_TAREAS 
    ADD CONSTRAINT Relation_56 FOREIGN KEY 
    ( 
     MTL_CODIGO,
     TML_CODIGO1
    ) 
    REFERENCES SDS_MATERIALES_MTL 
    ( 
     MTL_CODIGO,
     TML_CODIGO1
    ) 
;


ALTER TABLE SERVICIO 
    ADD CONSTRAINT Relation_57 FOREIGN KEY 
    ( 
     TSO_CODIGO,
     OPA_CODIGO
    ) 
    REFERENCES SDS_TIPO_SERVICIOS_TSO 
    ( 
     TSO_CODIGO,
     OPA_CODIGO
    ) 
;


ALTER TABLE ITEMS_HISTORICOS 
    ADD CONSTRAINT Relation_58 FOREIGN KEY 
    ( 
     FMO_CODIGO
    ) 
    REFERENCES SDS_FORMATOS_FMO 
    ( 
     FMO_CODIGO
    ) 
;


ALTER TABLE ITEMS_HISTORICOS 
    ADD CONSTRAINT Relation_59 FOREIGN KEY 
    ( 
     SVO_CODIGO,
     TSO_CODIGO,
     OPA_CODIGO
    ) 
    REFERENCES SERVICIO 
    ( 
     SVO_CODIGO,
     TSO_CODIGO,
     OPA_CODIGO
    ) 
;


ALTER TABLE ITEMS_HISTORICOS 
    ADD CONSTRAINT Relation_60 FOREIGN KEY 
    ( 
     ETU_CODIGO
    ) 
    REFERENCES SDS_ESTATUS_ETU 
    ( 
     ETU_CODIGO
    ) 
;


ALTER TABLE PERSONAS 
    ADD CONSTRAINT Relation_62 FOREIGN KEY 
    ( 
     CED
    ) 
    REFERENCES JEFE 
    ( 
     CED
    ) 
    ON DELETE SET NULL 
;


ALTER TABLE PERSONAS 
    ADD CONSTRAINT Relation_63 FOREIGN KEY 
    ( 
     CED1
    ) 
    REFERENCES ADMINIS 
    ( 
     CED
    ) 
    ON DELETE SET NULL 
;


ALTER TABLE ASIG_PERSONAL 
    ADD CONSTRAINT Relation_64 FOREIGN KEY 
    ( 
     CEDULA
    ) 
    REFERENCES PERSONAS 
    ( 
     CEDULA
    ) 
;





















-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                            18
-- CREATE INDEX                             0
-- ALTER TABLE                             38
-- CREATE VIEW                              0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- CREATE STRUCTURED TYPE                   0
-- CREATE COLLECTION TYPE                   0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0
